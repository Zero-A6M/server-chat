{"version":3,"sources":["components/Chat.js","components/Login.js","components/Message.js","components/Messages.js","components/NotFound.js","App.js","index.js"],"names":["socket","Login","useState","name","setName","room","setRoom","className","align","type","placeholder","onChange","event","target","value","onClick","preventDefault","to","id","Message","message","user","username","time","Messages","messages","map","msg","Chat","location","setMessage","setMessages","rooms","server_url","useEffect","queryString","parse","search","io","emit","on","SendMessage","hidden","onKeyPress","key","NotFound","App","path","exact","component","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.90b4a1c2.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport queryString from 'query-string';\r\nimport io from 'socket.io-client';\r\n\r\nimport './CSS/style.css';\r\n\r\nimport Messages from './Messages';\r\n\r\nlet socket;\r\n\r\nconst Chat = ({location}) => {\r\n    const [name, setName] = useState('');\r\n    const [room, setRoom] = useState('');\r\n    const [message, setMessage] = useState('');\r\n    const [messages, setMessages] = useState([]);\r\n    const [rooms, setRooms] = useState([]);\r\n    const url = 'localhost:6446';\r\n    const server_url = \"https://react-simple-message.herokuapp.com/\";\r\n\r\n    useEffect(() => {\r\n        let {name, room} = queryString.parse(location.search);\r\n\r\n        socket = io(server_url);\r\n\r\n        setName(name);\r\n        setRoom(room);\r\n\r\n        socket.emit('joinUser', {name, room});\r\n\r\n    }, [server_url, location.search]);\r\n\r\n    useEffect(() => {\r\n        socket.on('messageInfo', (msg) => {\r\n            setMessages([...messages, msg]);\r\n        });\r\n        socket.on('message', (msg) => {\r\n            setMessages([...messages, msg]);\r\n        });\r\n\r\n    }, [messages]);\r\n\r\n    useEffect(() => {\r\n\r\n        \r\n\r\n    }, [rooms]);\r\n\r\n    const SendMessage = (event) => {\r\n        event.preventDefault();\r\n\r\n        if (message) {\r\n            socket.emit('sendMessage', message, () => setMessage(''));\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"box\">\r\n            <div className=\"rooms\">\r\n                <div className=\"room-list\">\r\n                    <div className=\"room\">\r\n                        <div className=\"room-info\">\r\n                            <div className=\"room-name\">Комната 123</div>\r\n                            <div className=\"room-participants\">Участников: 15</div>\r\n                        </div>\r\n                        <input type=\"button\" value=\"Join\" hidden/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"chat\">\r\n                <Messages messages={messages} user={name}/>\r\n                <textarea className=\"input-field\" value={message} placeholder=\"Write your message...\" onChange={(event) => setMessage(event.target.value)} onKeyPress={event => event.key === 'Enter' ? SendMessage(event) : null}></textarea>\r\n                <input type=\"button\" value=\"Send\" onClick={(event) => SendMessage(event)}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat;","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './CSS/login.css';\r\n\r\nconst Login = () => {\r\n    const [name, setName] = useState('');\r\n    const [room, setRoom] = useState('');\r\n\r\n    return (\r\n        <div className=\"box\">\r\n            <h1 align=\"center\">Welcome to simple chat</h1>\r\n            <div className=\"panel-login\">\r\n                <input type=\"text\" placeholder=\"username\" onChange={(event) => {setName(event.target.value);}}/>\r\n                <input type=\"text\" placeholder=\"room\" onChange={(event) => {setRoom(event.target.value);}}/>\r\n                <div className=\"buttons\">\r\n                    <Link onClick={event => (!name || !room) ? event.preventDefault(): null} to={`/chat?name=${name}&room=${room}`}>\r\n                        <input type=\"submit\" value=\"Join\" id=\"btn-join\"/>\r\n                    </Link>\r\n                    <Link onClick={event => (!name || !room) ? event.preventDefault(): null} to={`/error?name=${name}&room=${room}`}>\r\n                        <input type=\"submit\" value=\"Create\" id=\"btn-create\"/>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\n\r\nconst Message = ({message, user}) => {\r\n\r\n    let isThisUser = message.username === user;\r\n\r\n    if (isThisUser) {\r\n        return(\r\n            <div className=\"message you-message\">\r\n                <div className=\"message-head\">\r\n                    <div className=\"message-username\">{message.username}</div>\r\n                    <div className=\"message-time\">{message.time}</div>\r\n                </div>\r\n                <div className=\"message-text\">{message.message}</div>\r\n            </div>\r\n        );\r\n    } else if (message.username !== null) {\r\n        return(\r\n            <div className=\"message another-message\">\r\n                <div className=\"message-head\">\r\n                    <div className=\"message-username\">{message.username}</div>\r\n                    <div className=\"message-time\">{message.time}</div>\r\n                </div>\r\n                <div className=\"message-text\">{message.message}</div>\r\n            </div>\r\n        );\r\n    } else {\r\n        return(\r\n            <div className=\"info-message\">{message.message}</div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\n\r\nimport Message from './Message';\r\n\r\nconst Messages = ({messages, user}) => {\r\n    return(\r\n        <div className=\"messages\">\r\n            {\r\n                messages.map((msg) => <Message message={msg} user={user}/>)\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Messages;","import React from 'react';\r\n\r\nimport './CSS/not_found.css';\r\n\r\nconst NotFound = () => (\r\n    <div className=\"box-not-found\">\r\n        <div className=\"main-container\">\r\n            <div className=\"container-text container-text-not-found\">\r\n                <span>p</span>\r\n                <span>a</span>\r\n                <span>g</span>\r\n                <span>e</span>\r\n                <span className=\"spacebar\"> </span>\r\n                <span>n</span>\r\n                <span>o</span>\r\n                <span>t</span>\r\n                <span className=\"spacebar\"> </span>\r\n                <span>f</span>\r\n                <span>o</span>\r\n                <span>u</span>\r\n                <span>n</span>\r\n                <span>d</span>\r\n            </div>\r\n            <div className=\"container-text container-text-error\">\r\n                <span>e</span>\r\n                <span>r</span>\r\n                <span>r</span>\r\n                <span>o</span>\r\n                <span>r</span>\r\n                <span className=\"spacebar\"> </span>\r\n                <span>4</span>\r\n                <span>0</span>\r\n                <span>4</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default NotFound;","import React from 'react';\r\n\r\nimport {BrowserRouter as Router, Route, Redirect} from 'react-router-dom';\r\n\r\nimport Login from './components/Login';\r\nimport Chat from './components/Chat';\r\nimport NotFound from './components/NotFound';\r\n\r\nconst App = () => (\r\n    <Router>\r\n        <Route path=\"/\" exact component={Login} />\r\n        <Route path=\"/chat\" component={Chat} />\r\n        <Route path=\"error\" component={NotFound}/>\r\n    </Router>\r\n);\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.querySelector('#root'));"],"sourceRoot":""}